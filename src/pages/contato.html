<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="../../public/logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fale com o Colheita Certa. Nossa equipe está pronta para tirar suas dúvidas e ajudar" />
    <title>Contato - Colheita Certa</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../styles/reset.css" />
    <link rel="stylesheet" href="../styles/common.css" />
    <link rel="stylesheet" href="../styles/contato.css" />
</head>
<body>
    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
    
    <header class="header">
      <nav class="nav-container" aria-label="Navegação principal">
        <div class="nav-wrapper">
          <a href="../../index.html" class="logo-button" aria-label="Voltar para a página inicial">
            <img src="../../public/logo.svg" alt="Logo Colheita Certa" class="logo-image" />
            <span class="logo-text">Colheita Certa</span>
          </a>

          <input type="checkbox" id="menu-toggle" class="menu-toggle" />
          <label for="menu-toggle" class="mobile-menu-btn" aria-label="Abrir menu">
            <i class="bi bi-list menu-icon" aria-hidden="true"></i>
            <i class="bi bi-x close-icon" aria-hidden="true"></i>
          </label>

          <ul class="nav-menu" role="menubar">
            <li role="none">
              <a href="../../index.html" class="nav-link" role="menuitem">Início</a>
            </li>
            <li role="none">
              <a href="./solucoes.html" class="nav-link" role="menuitem">Soluções</a>
            </li>
            <li role="none">
              <a href="./recursos.html" class="nav-link" role="menuitem">Recursos</a>
            </li>
            <li role="none">
              <a href="./contato.html" class="nav-link active" role="menuitem" aria-current="page">Contato</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <main id="main-content" role="main">
        <section class="hero-banner">
            <div class="container">
                <h1>Fale Conosco</h1>
                <p>Tem alguma dúvida ou quer saber mais? Mande uma mensagem para nossa equipe. Estamos aqui para ajudar</p>
            </div>
        </section>

        <section class="contact-section">
            <div class="container">
                <div class="contact-grid">
                    <div class="contact-info">
                        <h2 class="section-title">Nossos Canais</h2>
                        <p class="contact-intro">Tire suas dúvidas ou envie sugestões pelos canais abaixo</p>

                        <div class="info-cards">
                            <div class="info-card">
                                <div class="info-icon">
                                    <i class="bi bi-envelope"></i>
                                </div>
                                <div class="info-content">
                                    <h3>Email</h3>
                                    <p>contato@colheitacerta.com.br</p>
                                    <p>suporte@colheitacerta.com.br</p>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="info-icon">
                                    <i class="bi bi-telephone"></i>
                                </div>
                                <div class="info-content">
                                    <h3>Telefone</h3>
                                    <p>(11) 3000-0000</p>
                                    <p>WhatsApp: (11) 99999-9999</p>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="info-icon">
                                    <i class="bi bi-geo-alt"></i>
                                </div>
                                <div class="info-content">
                                    <h3>Localização</h3>
                                    <p>São Paulo, SP</p>
                                    <p>Brasil</p>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="info-icon">
                                    <i class="bi bi-clock"></i>
                                </div>
                                <div class="info-content">
                                    <h3>Horário de Atendimento</h3>
                                    <p>Segunda a Sexta: 8h às 18h</p>
                                    <p>Sábado: 8h às 12h</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="contact-form-wrapper">
                        <h2 class="section-title">Envie uma mensagem</h2>
                        <form class="contact-form" id="contactForm" novalidate>
                            <div class="form-group">
                                <label for="name">Nome Completo *</label>
                                <input type="text" id="name" name="name" required placeholder="Seu nome completo">
                            </div>

                            <div class="form-group">
                                <label for="email">Email *</label>
                                <input type="email" id="email" name="email" required placeholder="seu@email.com">
                            </div>

                            <div class="form-group">
                                <label for="phone">Telefone</label>
                                <input type="tel" id="phone" name="phone" placeholder="(00) 00000-0000">
                            </div>

                            <div class="form-group">
                                <label for="subject">Assunto *</label>
                                <select id="subject" name="subject" required>
                                    <option value="">Selecione um assunto</option>
                                    <option value="duvidas">Dúvidas sobre a plataforma</option>
                                    <option value="suporte">Suporte técnico</option>
                                    <option value="parceria">Proposta de parceria</option>
                                    <option value="feedback">Opinião ou sugestão</option>
                                    <option value="outro">Outro assunto</option>
                                </select>
                            </div>

                                                    <div class="form-group">
                            <label for="message">Mensagem *</label>
                            <textarea id="message" name="message" rows="5" required placeholder="Conte mais sobre sua dúvida ou sugestão" maxlength="500"></textarea>
                        </div>

                            <button type="submit" class="btn btn-primary btn-submit">
                                <i class="bi bi-send"></i>
                                Enviar Mensagem
                            </button>

                            <div class="form-success" id="successMessage" style="display: none;">
                                <i class="bi bi-check-circle-fill"></i>
                                <p>Mensagem enviada com sucesso! Entraremos em contato em breve.</p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section class="faq-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Dúvidas frequentes</h2>
                    <p class="section-subtitle">Perguntas que recebemos com mais frequência</p>
                </div>

                <div class="faq-grid">
                    <div class="faq-item">
                        <h3>Como faço para criar uma conta?</h3>
                        <p>Você pode criar sua conta grátis clicando em "Cadastre-se" aqui no site. O processo é simples e leva só alguns minutos</p>
                    </div>

                    <div class="faq-item">
                        <h3>A plataforma é gratuita?</h3>
                        <p>Sim! O Colheita Certa oferece um plano gratuito com as ferramentas essenciais para o pequeno produtor. Também temos planos pagos com ferramentas mais avançadas</p>
                    </div>

                    <div class="faq-item">
                        <h3>Como funciona o marketplace?</h3>
                        <p>No nosso Mercado Digital, você pode anunciar seus produtos e se conectar direto com compradores, eliminando atravessadores e aumentando seu lucro</p>
                    </div>

                    <div class="faq-item">
                        <h3>Preciso de internet para usar?</h3>
                        <p>Algumas ferramentas funcionam até sem internet, mas para acessar o Mercado Digital e receber avisos na hora, você precisará de uma conexão</p>
                    </div>

                    <div class="faq-item">
                        <h3>Vocês oferecem treinamento?</h3>
                        <p>Sim! Oferecemos vídeos curtos, guias com passo a passo e suporte da nossa equipe para ajudar você a usar todas as ferramentas</p>
                    </div>

                    <div class="faq-item">
                        <h3>Como posso vender para programas governamentais?</h3>
                        <p>A plataforma dá acesso fácil a programas como o PAA e PNAE, simplificando o cadastro e a venda para o governo</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer" role="contentinfo">
      <div class="footer-container">
        <section class="footer-section" aria-labelledby="footer-about">
          <div class="footer-logo">
            <img src="../../public/logo-white.png" alt="Logo Colheita Certa" class="footer-logo-image" />
            <span>Colheita Certa</span>
          </div>
          <p class="footer-description">
            A plataforma completa que ajuda pequenos produtores a aumentar sua renda e reduzir perdas através da tecnologia.
          </p>
        </section>
        
        <nav class="footer-section" aria-labelledby="footer-links">
          <h3 id="footer-links">Links Rápidos</h3>
          <ul class="footer-links">
            <li><a href="../../index.html" class="footer-link">Início</a></li>
            <li><a href="./solucoes.html" class="footer-link">Soluções</a></li>
            <li><a href="./recursos.html" class="footer-link">Recursos</a></li>
            <li><a href="./contato.html" class="footer-link">Contato</a></li>
          </ul>
        </nav>        <section class="footer-section" aria-labelledby="footer-info">
          <h3 id="footer-info">Sobre</h3>
          <p class="footer-info-text">Desenvolvido pela equipe RAP como parte do projeto Agrotech.</p>
          <p class="footer-info-text">Alinhado aos objetivos de desenvolvimento sustentável da ONU.</p>
        </section>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2025 Colheita Certa. Tecnologia para transformar a agricultura familiar</p>
      </div>
    </footer>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contactForm');
    const messageInput = document.getElementById('message');
    const phoneInput = document.getElementById('phone');
    
    // --- BÔNUS DE USABILIDADE: CONTADOR DE CARACTERES ---
    // Cria o elemento visual do contador via JS para não poluir o HTML
    const counterDiv = document.createElement('div');
    counterDiv.className = 'char-counter';
    counterDiv.innerText = '0/500';
    messageInput.parentNode.appendChild(counterDiv);

    // Atualiza o contador enquanto o usuário digita
    messageInput.addEventListener('input', function() {
        const currentLength = this.value.length;
        counterDiv.innerText = `${currentLength}/500`;
        
        if (currentLength >= 500) {
            counterDiv.classList.add('limit-reached');
        } else {
            counterDiv.classList.remove('limit-reached');
        }
    });

    // --- MÁSCARA DE TELEFONE EM TEMPO REAL (NOVA FUNCIONALIDADE) ---
    if (phoneInput) {
        phoneInput.addEventListener('input', phoneMask);
    }
    
    function phoneMask(event) {
        const target = event.target;
        // 1. Remove tudo que não for dígito
        let value = target.value.replace(/\D/g, ''); 
        let formattedValue = '';
        
        // 2. Aplica a máscara (DD) XXXX-XXXX ou (DD) XXXXX-XXXX
        
        // Se tiver mais de 10 dígitos (celular com 9), aplica (XX) XXXXX-XXXX
        if (value.length > 10) {
            formattedValue = `(${value.substring(0, 2)}) ${value.substring(2, 7)}-${value.substring(7, 11)}`;
        } 
        // Se tiver 10 dígitos (celular ou fixo antigo), aplica (XX) XXXX-XXXX
        else if (value.length > 6) {
            formattedValue = `(${value.substring(0, 2)}) ${value.substring(2, 6)}-${value.substring(6, 10)}`;
        } 
        // Se tiver apenas o DDD
        else if (value.length > 2) {
            formattedValue = `(${value.substring(0, 2)}) ${value.substring(2)}`;
        } 
        // Se tiver 2 dígitos (só o DD)
        else if (value.length > 0) {
            formattedValue = `(${value}`;
        }

        // Limita o tamanho máximo de caracteres
        if (formattedValue.length > 15) { // (11) 98765-4321 tem 15 caracteres
            formattedValue = formattedValue.substring(0, 15);
        }

        // Atualiza o valor do input, exceto se for a tecla backspace
        if (event.inputType !== 'deleteContentBackward') {
            target.value = formattedValue;
        }
    }
    // --- FIM DA MÁSCARA ---

    // --- LÓGICA DE VALIDAÇÃO AO ENVIAR ---
    form.addEventListener('submit', function(e) {
        e.preventDefault(); // Impede o envio real para validar
        
        // 1. Limpa erros anteriores (reseta o estado visual)
        limparErros();
        
        let temErro = false;

        // --- VALIDAÇÃO 1: NOME COMPLETO ---
        const nomeInput = document.getElementById('name');
        const nomeValor = nomeInput.value.trim();
        const partesNome = nomeValor.split(/\s+/);
        
        if (!nomeValor) {
            mostrarErro(nomeInput, 'O campo nome é obrigatório.');
            temErro = true;
        } else if (partesNome.length < 2) {
            mostrarErro(nomeInput, 'Por favor, digite seu nome e sobrenome.');
            temErro = true;
        } else {
            const nomeValido = partesNome.every(parte => parte.length >= 2);
            if (!nomeValido) {
                mostrarErro(nomeInput, 'Nome e sobrenome devem ter no mínimo 2 letras cada.');
                temErro = true;
            }
        }

        // --- VALIDAÇÃO 2: E-MAIL ---
        const emailInput = document.getElementById('email');
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        if (!emailInput.value.trim()) {
            mostrarErro(emailInput, 'O e-mail é obrigatório.');
            temErro = true;
        } else if (!emailRegex.test(emailInput.value.trim())) {
            mostrarErro(emailInput, 'Digite um e-mail válido (ex: seu@email.com).');
            temErro = true;
        }

        // --- VALIDAÇÃO 3: TELEFONE (VALIDAÇÃO FINAL) ---
        const phoneValor = phoneInput.value.trim();
        // Regex mais simples, pois a máscara já garante o formato.
        // Apenas verifica se tem 10 ou 11 dígitos numéricos limpos.
        const phoneNumeros = phoneValor.replace(/\D/g, ''); 

        if (phoneValor !== "") { 
            if (phoneNumeros.length < 10) {
                 mostrarErro(phoneInput, 'Telefone incompleto. Use (DD) XXXX-XXXX.');
                 temErro = true;
            } else if (phoneNumeros.length > 11) {
                 mostrarErro(phoneInput, 'Telefone com dígitos a mais.');
                 temErro = true;
            }
        }

        // --- VALIDAÇÃO 4: MENSAGEM ---
        const msgValor = messageInput.value.trim();
        
        if (!msgValor) {
            mostrarErro(messageInput, 'A mensagem não pode estar vazia.');
            temErro = true;
        } else if (msgValor.length > 500) {
            mostrarErro(messageInput, 'A mensagem excedeu o limite de 500 caracteres.');
            temErro = true;
        }

        // --- RESULTADO FINAL ---
        if (!temErro) {
            const successMessage = document.getElementById('successMessage');
            
            successMessage.style.display = 'flex';
            successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // Limpa o formulário e reseta o contador
            form.reset();
            counterDiv.innerText = '0/500'; 
            
            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 5000);
            
            console.log('Formulário validado e "enviado" com sucesso!');
        }
    });
});

// --- FUNÇÕES AUXILIARES ---

function mostrarErro(input, mensagem) {
    input.classList.add('input-error');
    
    const erroSmall = document.createElement('small');
    erroSmall.className = 'error-message';
    erroSmall.innerHTML = '<i class="bi bi-exclamation-circle"></i> ' + mensagem;
    
    const formGroup = input.parentElement;
    formGroup.appendChild(erroSmall);

    console.log('Erro adicionado no campo:', input.id);
}

function limparErros() {
    const inputs = document.querySelectorAll('.input-error');
    inputs.forEach(el => el.classList.remove('input-error'));
    
    const mensagens = document.querySelectorAll('.error-message');
    mensagens.forEach(el => el.remove());
    
    document.getElementById('successMessage').style.display = 'none';
}  
    </script>
</body>
</html>
